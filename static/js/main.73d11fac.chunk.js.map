{"version":3,"sources":["images/Vector.svg","components/Header.js","images/update_avatar.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ConfirmPopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","Utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","Logo","alt","CurrentUserContext","React","createContext","CardContext","Card","props","currentUser","useContext","isOwn","image","owner","_id","isLiked","likes","some","i","link","name","onClick","onCardClick","aria-label","type","onConfirmPopup","onCardLike","length","Main","avatar","editAvatarButtom","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","card","onCardDelete","Footer","PopupWithForm","isOpen","onClose","onSubmit","action","title","children","buttonText","ConfirmPopup","console","log","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","id","placeholder","minLength","maxLength","required","EditAvatarPopup","editAvatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","cardNameRef","cardLinkRef","ImagePopup","api","options","this","headers","baseUrl","url","opt","fetch","then","res","ok","json","Promise","reject","status","_fetch","method","body","JSON","stringify","del","addlike","remlike","authorization","App","setCurrentUser","setCards","isEditProfilePopupOpen","setisEditProfilePopupOpen","isAddPlacePopupOpen","setisAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","targetCard","setTargetCard","getUserInfo","userInfo","catch","err","getInitialCards","item","closeAllPopups","Provider","remLikeCard","newCard","newCards","c","addLikeCard","setInitialCard","infoUser","setUserInfo","setUserAvatar","a","delInitialCards","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.73d11fac.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.a307e1c4.svg\";","import React from 'react';\nimport Logo from '../images/Vector.svg'\n\nfunction Header() {\n    return (\n        <>\n            <header className=\"header block-width\">\n                <img src={Logo} className=\"header__logo\" alt=\"Лого Место\"/>\n            </header>\n        </>\n    );\n}\n\nexport default Header;","export default __webpack_public_path__ + \"static/media/update_avatar.a086f758.svg\";","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\nexport const CardContext = React.createContext()","import React, { useContext } from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\n\nfunction Card(props) {\n    \n    const currentUser = useContext(CurrentUserContext);\n    const isOwn = props.image.owner._id === currentUser._id;\n    const isLiked = props.image.likes.some(i => i._id === currentUser._id);\n\n    function handleClick() {\n        props.onCardClick(props.image);\n    }\n    function handleLikeClick() {\n        props.onCardLike(props.image);\n    }\n\n    function openConfirmPopup() {\n        props.onConfirmPopup(props.image);\n        \n    }\n  \n    return (\n        <div className=\"element\">\n            <div className=\"element__image-block\">\n                <img className=\"element__image\" src={props.image.link} alt={props.image.name} onClick={handleClick}/>\n            </div>\n            <button className={`element__trash ${isOwn ? \"element__trash\" : \"element__trash_invisible\"}`} aria-label=\"remove\" type=\"button\" onClick={openConfirmPopup}></button>\n            <div className=\"element__name\">\n                <p className=\"element__text\">{props.image.name}</p>\n                <div className=\"element__group-container\">\n                    <button className={`${isLiked ? \"element__group element__group_visible\" : \"element__group element__group_invisible\"}`} type=\"button\" aria-label=\"like\" onClick={handleLikeClick}></button>\n                    <p className=\"element__group-number\">{props.image.likes.length}</p>\n                </div>\n            </div>\n        </div>    \n    );\n}\n\nexport default Card;","import React, {useContext} from 'react';\nimport editAvatarButtom from '../images/update_avatar.svg';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n    const currentUser = useContext(CurrentUserContext); \n    \n    return (\n          <main>\n            <section className=\"profile block-width\">\n                <div className=\"profile__avatar-container\">\n                  <img src={currentUser && currentUser.avatar} className=\"profile__avatar\" alt=\"Аватар_пользователя\" />\n                  <div className=\"profile__overlay\">\n                    <div className=\"profile__overlay-background\"></div>\n                    <img src={editAvatarButtom} alt=\"Изменение аватара\" className=\"profile__updateavatar\" onClick={props.onEditAvatar}/>\n                  </div>\n                </div>\n                <div className=\"profile__info\">\n                  <h1 className=\"profile__name\">{currentUser && currentUser.name}</h1>\n                  <button className=\"profile__edit-button\" type=\"button\" aria-label=\"Edit_profile\" onClick={props.onEditProfile}></button>\n                  <h2 className=\"profile__status\">{currentUser && currentUser.about}</h2>\n                </div>\n                <button className=\"profile__add-button\" type=\"button\" aria-label=\"Add_profile\" onClick={props.onAddPlace}></button>\n            </section>\n            <section className=\"elements block-width\">\n              {props.cards.map((card) => <Card image={card} key={card._id} onCardClick={props.onCardClick} onCardDelete={props.onCardDelete} onCardLike={props.onCardLike} onConfirmPopup={props.onConfirmPopup}/>)}          \n            </section>             \n          </main>\n    );\n\n  }\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n    return (\n        <>\n            <footer className=\"footer block-width\">\n              <h3 className=\"footer__text\">© 2020 Mesto Russia</h3>\n            </footer>\n        </>\n    );\n}\n\nexport default Footer;","import React from \"react\";\n\nfunction PopupWithForm(props) {\n\n    return (\n        <div className={`modal modal_${props.name} ${props.isOpen ? 'modal_opened':''}`}>\n            <div className=\"modal__overlay\" onClick={props.onClose}></div>          \n            <form className=\"modal__form\" name={`modal-${props.name}`} onSubmit={props.onSubmit} action=\"#\">\n                <button className=\"modal__button-close\" type=\"button\" aria-label=\"close\" onClick={props.onClose}></button>\n                <div className=\"modal__frame\">\n                    <h3 className=\"modal__heading\">{`${props.title}`}</h3>\n                        <>{props.children}</>\n                    <button className=\"modal__submit-button\" type=\"submit\" aria-label=\"save\" onClick={props.onClose}>{props.buttonText}</button>\n                </div>        \n            </form>  \n        </div>  \n    );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction ConfirmPopup(props) {\n    console.log(props)\n\n    return (\n        <PopupWithForm onClose={props.onClose} isOpen={props.isOpen} onSubmit={props.onCardDelete} name=\"confirmpopup\" title=\"Вы уверены?\" buttonText=\"Да\"/>\n    )\n}\n\nexport default ConfirmPopup;","import React from \"react\";\nimport {useState, useEffect, useContext} from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\n\nfunction EditProfilePopup(props) {\n    const [name, setName] = useState();\n    const [description, setDescription] = useState();\n\n    const currentUser = useContext(CurrentUserContext);\n\n    useEffect(() => {\n        setName(currentUser && currentUser.name);\n        setDescription(currentUser && currentUser.about);\n      }, [currentUser]); \n\n    const handleChangeName = (e) => {\n        setName(e.target.value);\n    }\n\n    const handleChangeDescription = (e) => {\n        setDescription(e.target.value)\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        props.onUpdateUser({\n            name: name,\n            about: description\n          });\n    }\n\n    return (\n        <PopupWithForm isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} name=\"editor\" title=\"Редактировать профиль\" buttonText=\"Сохранить\">\n                        <label className=\"modal__label\">\n                            <input className=\"modal__field modal__field_editor-name\" value={name || ' '} onChange={handleChangeName} id=\"input-editor-name\" name=\"name\" type=\"text\" placeholder=\"Введите ваше имя\" minLength=\"2\" maxLength=\"40\" required/>\n                            <span className=\"modal__input-error\" id=\"input-editor-name-error\"></span>\n                        </label>\n                        <label className=\"modal__label\">\n                            <input className=\"modal__field modal__field_editor-status\" value={description || ' '} onChange={handleChangeDescription} id=\"input-editor-status\" name=\"about\" type=\"text\" placeholder=\"Введите вашу профессию\" minLength=\"2\" maxLength=\"200\" required/>\n                            <span className=\"modal__input-error\" id=\"input-editor-status-error\"></span>\n                        </label>          \n        </PopupWithForm>) \n}\n\nexport default EditProfilePopup;","import React from \"react\";\nimport {useRef} from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction EditAvatarPopup(props) {\n      \n    const editAvatarRef = useRef();\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        props.onUpdateAvatar({\n            avatar: editAvatarRef.current.value\n        })\n    }\n\n    return (\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} name=\"updateavatar\" title=\"Обновите аватар\" buttonText=\"Сохранить\">             \n            <label className=\"modal__label\">\n                <input ref={editAvatarRef} className=\"modal__field modal__field_updateavatar\" id=\"input-updateavatar-url\" name=\"avatar\" placeholder=\"Ссылка на аватар\" type=\"url\" required/>\n                <span className=\"modal__input-error\" id=\"input-updateavatar-url-error\"></span>\n            </label>            \n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import PopupWithForm from './PopupWithForm';\nimport {useState, useEffect, useContext, useRef} from 'react';\nimport {CurrentUserContext, CardContext} from '../contexts/CurrentUserContext';\n\nfunction AddPlacePopup (props) {\n\n\n    const cardNameRef = useRef();\n    const cardLinkRef = useRef();\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        props.onAddPlace({\n            name: cardNameRef.current.value,\n            link: cardLinkRef.current.value\n        })\n    }\n\nreturn (\n    <PopupWithForm isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} name=\"newform\" title=\"Новое место\" buttonText=\"Сохранить\">\n        <>            \n            <label className=\"modal__label\">\n                <input className=\"modal__field modal__field_newform-name\" ref={cardNameRef} id=\"input-newform-name\" name=\"name\"  placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" type=\"text\" required/>\n                <span className=\"modal__input-error\" id=\"input-newform-name-error\"></span>\n            </label>\n            <label className=\"modal__label\">\n                <input className=\"modal__field modal__field_newform-link\" ref={cardLinkRef} id=\"input-newform-url\" name=\"link\" placeholder=\"Ссылка на картинку\" type=\"url\" required/>\n                <span className=\"modal__input-error\" id=\"input-newform-url-error\"></span>\n            </label>\n        </>\n    </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction ImagePopup(props) {\n\n    return (\n        <>\n            <div className={`modal modal_render ${props.isOpen ? 'modal_opened':''}` }>\n                <div className=\"modal__overlay modal__overlay_render\" onClick={props.onClose}></div>          \n                <div className=\"modal__form modal__form_render\">\n                    <button className=\"modal__button-close\" type=\"button\" aria-label=\"close\" onClick={props.onClose}></button>\n                    <img className=\"modal__render\" src={props.isOpen.link} alt={props.isOpen.name}/> \n                    <h2 className=\"modal__render-text\">{props.isOpen.name}</h2>      \n                </div>        \n            </div>\n        </>\n    )\n}\n\nexport default ImagePopup;","export default class Api {\n    constructor(options) {\n      this.headers = options.headers;\n      this.baseUrl = options.baseUrl;\n    }\n\n    _fetch(url, opt={}) {      \n      return fetch(this.baseUrl+url,{headers: this.headers, ...opt})\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Хьюстон, у нас проблемы: ${res.status}`);\n      })\n    }\n  \n    getInitialCards() {\n      return this._fetch(`/cards`);\n    }\n\n    getUserInfo() {\n      return this._fetch(`/users/me`);\n    }\n\n    setUserInfo(name, about) {\n      return this._fetch(`/users/me`, {\n        method: `PATCH`,\n        body: JSON.stringify({\n          name: name,\n          about: about,\n        })\n      });\n    }\n\n    setUserAvatar(avatar) {\n      return this._fetch(`/users/me/avatar`, {\n        method: `PATCH`,\n        body: JSON.stringify({\n          avatar: avatar\n        })\n      });\n    }\n\n    setInitialCard(name, link) {\n      return this._fetch(`/cards`, {\n        method: `POST`,\n        body: JSON.stringify({\n          name: name,\n          link: link\n        })\n      });\n    }\n\n    delInitialCards(del) {\n      return this._fetch(`/cards/${del}`, {\n        method: `DELETE`,\n        body: JSON.stringify({\n          _id: del \n        })\n      });\n    }\n\n    addLikeCard(addlike) {\n      return this._fetch(`/cards/likes/${addlike}`, {\n        method: `PUT`,\n        body: JSON.stringify({\n          _id: addlike \n        })\n      });\n    }\n\n    remLikeCard(remlike) {\n      return this._fetch(`/cards/likes/${remlike}`, {\n        method: `DELETE`,\n        body: JSON.stringify({\n          _id: remlike \n        })\n      });\n    }\n}\n\nexport const api = new Api({ \n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16', \n  headers: { \n    authorization: '588c72f6-47fd-494a-9f61-2083e374b77d', \n    'Content-Type': 'application/json' \n  } \n});\n\n\n  \n","// import './index.css';\nimport {useState, useEffect} from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ConfirmPopup from './ConfirmPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport {api} from '../Utils/api';\nimport {CurrentUserContext, CardContext} from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState();\n  const [cards, setCards] = useState([]);\n  const [isEditProfilePopupOpen, setisEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setisAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(false);\n  const [targetCard, setTargetCard] = useState();\n\n\n  useEffect(()=>{\n    api.getUserInfo().then((userInfo)=>{\n      setCurrentUser(userInfo);\n      }).catch((err) =>\n        console.log(\"Упс... что-то пошло не так\"));\n\n    api.getInitialCards().then((item) => {\n        setCards(item);\n        }).catch((err) =>\n          console.log(\"Упс... что-то пошло не так\"));\n  },[])\n\n  //Удаление карты\n  const handleCardDelete = () => {\n    console.log(targetCard);\n    api.delInitialCards(targetCard._id).then(() => {\n      const newCards = cards.filter(item => item._id !== targetCard._id);\n      setCards(newCards);\n      }).catch((err) =>\n      console.log(\"Упс... что-то пошло не так\"));\n    }\n\n  const handleCardLike = (card) => {\n      const isLiked = card.likes.some(item => item._id === currentUser._id);\n      \n      if (!isLiked) {api.addLikeCard(card._id).then((newCard) => {\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n          setCards(newCards);\n        }).catch((err) =>\n        console.log(\"Упс... что-то пошло не так\"));\n      } else {\n        api.remLikeCard(card._id).then((newCard) => {\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n          setCards(newCards)\n        }).catch((err) =>\n        console.log(\"Упс... что-то пошло не так\"));\n      }\n    } \n      \n  const handleUpdateUser = (infoUser) => {\n    api.setUserInfo(infoUser.name, infoUser.about).then((name, about)=> {\n      setCurrentUser(name, about);\n    }).catch((err) =>\n    console.log(\"Упс... что-то пошло не так\"));\n  }\n\n  const handleUpdateAvatar = (avatar) => {\n    api.setUserAvatar(avatar.avatar).then((a) => {\n      setCurrentUser(a);\n    }).catch((err) =>\n    console.log(\"Упс... что-то пошло не так\"));\n  }\n\n  const handleAddPlaceSubmit = (image) => {\n    api.setInitialCard(image.name, image.link).then((newCard) => {\n      console.log(newCard);\n      setCards([newCard, ...cards])\n    }).catch((err) =>\n    console.log(\"Упс... что-то пошло не так\"));\n  }\n  \n\n  const handleCardClick = (card) => {\n    setSelectedCard(card); \n  } \n  \n  const openPopupEditor = () => {\n    setisEditProfilePopupOpen(true);\n  }\n  const openPopupNewForm = () => {\n    setisAddPlacePopupOpen(true);\n  }\n  const openPopupAvatar = () => {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  const openPopupConfirm = (card) => {\n    setIsConfirmPopupOpen(true);\n    setTargetCard(card);\n  }\n\n  const closeAllPopups = () => {\n    setisAddPlacePopupOpen(false);\n    setisEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setSelectedCard(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <CardContext.Provider value={cards}>\n      <div className=\"App\">\n      \n        <div className=\"content\">\n              <Header/>                \n              <Main cards={cards} onConfirmPopup={openPopupConfirm} onEditProfile={openPopupEditor} onAddPlace={openPopupNewForm} onEditAvatar={openPopupAvatar} onCardClick={handleCardClick} onCardLike={handleCardLike}/>\n              <Footer/>\n        </div>\n\n            <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n       \n            <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n                  \n            <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n            \n            <ConfirmPopup onClose={closeAllPopups} isOpen={isConfirmPopupOpen} onCardDelete={handleCardDelete}/>             \n\n            <ImagePopup onClose={closeAllPopups} isOpen={selectedCard} />\n              \n      </div>\n      </CardContext.Provider>\n    </CurrentUserContext.Provider>  \n  );\n\n}\n\nexport default App;\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}